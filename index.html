<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
		<title>geemail challenge</title>
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
        // create a visual list of emails to include: date, sender, subject, body...
        
        for (var i = 0; i<window.geemails.length; i++){
         	// console.log(window.geemails[i]);
         	// console.log(window.geemails[i].date);
        	// console.log(window.geemails[i].sender);
        	// console.log(window.geemails[i].subject);
			// console.log(window.geemails[i].body);

			// displays date, sender, subject, body

			var box = document.createElement("div");
			box.className = "generalContainer";
			main.appendChild(box);

			var emailSender = document.createElement("div");
          	emailSender.className = "from";
          	emailSender.innerHTML = window.geemails[i].sender;
          	box.appendChild(emailSender);

          	var emailDate = document.createElement("div");
          	emailDate.className = "date";
          	emailDate.innerHTML = window.geemails[i].date;
          	box.appendChild(emailDate);

          	var emailSubject = document.createElement("div");
          	emailSubject.className = "about";
          	emailSubject.innerHTML = window.geemails[i].subject;
          	box.appendChild(emailSubject);

          	var emailBody = document.createElement("div");
          	emailBody.className = "message";
          	emailBody.innerHTML = window.geemails[i].body;
          	emailBody.style.display = "none"; // hide message
          	box.appendChild(emailBody);

        }

        // show and hide the email message on click (event listener)...

        var showHide = document.getElementsByClassName("generalContainer");

		for (var j = 0; j<showHide.length; j++){
			showHide[j].addEventListener("click", secret);   
		}

		function secret(){
 			var emailContent = this.querySelectorAll(".message")[0];
  				if (emailContent.style.display === "none"){
    				emailContent.style.display = "block";
  				}else{
    			emailContent.style.display = "none";
    			}
    	}

    	// add the inbox counter...

    	function inboxCount(num){
    		for (var k = 0; k<num.length; k++){
    			emailCounter = num.length;
			}
    	}

    	inboxCount(window.geemails);
    	// console.log(emailCounter); // 10

    	var unreadEmails = document.createElement("div");
    	unreadEmails.className = "unread";
    	unreadEmails.innerHTML = emailCounter;
    	main.appendChild(unreadEmails);

    	// set recurring function to get new emails using setInterval function method

    	// setInterval(getNewMessage(), 7000);


      };
    </script>
	</head>
	<body>
		<div id="header"> 
			GEEMAIL
		</div>
		<div class="container" id="main">
		</div>
	</body>
</html>